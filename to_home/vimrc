set number
set mouse=a
set autochdir
set history=50
set showcmd
set whichwrap+=[,] " wrap lines with arrow keys in insert mode 
syntax on
set hlsearch
set wrap
set linebreak
set breakindent
let &showbreak='|'

" Set the same indentation settings for all file types
filetype indent plugin off
set tabstop=2
set softtabstop=2
set shiftwidth=2
set autoindent 

command D e %:p:h
command Xx ! xdg-open %:p &>/dev/null &  disown
command -nargs=? C  w | ! gcc % -o /tmp/a && /tmp/a <args>
command -nargs=? CC w | ! g++ % -o /tmp/a && /tmp/a <args>
command -nargs=? M  wa| ! make <args>
command -nargs=? Py w | ! python3 % <args>
command -nargs=? Latex w | ! pdflatex -file-line-error -interaction=nonstopmode % <args> | grep ':*: '
command -nargs=? Lpdf ! xdg-open %:r.pdf &>/dev/null & disown

set laststatus=2
set statusline=%F\ %h%w%m%r%=
set statusline+=%-6k\ line\ %l,\ col\ %v\ %4P\  
" virtual column number %v is better than the actual %c for unicode

vnoremap <C-c> "+y
vnoremap <C-x> "+d
"nnoremap <C-v> "+p " not set because of the visual block mode
inoremap <C-v> <C-o>"+p

set spelllang=ru,en_us " run :set spell whenever you need it
" ru has to be the first, because this sources ~/.vim/spell/ru.vim
set spellfile=~/.vim/spell/custom.utf-8.add
set encoding=utf-8
"autocmd BufNewFile,BufRead *.tex setlocal spell
inoremap <A-s> <C-o>:let &spell=!&spell<Enter>
nnoremap <A-s> :let &spell=!&spell<Enter>

"let g:netrw_browsex_viewer = "mimeopen -n"
let g:netrw_browse_split = 3
let g:netrw_liststyle = 1
let g:netrw_sizestyle = "H"
let g:netrw_mousemaps = 0
let g:netrw_winsize = 70

if argc() > 1 | silent tab all | endif
autocmd BufNewFile,BufRead *.letter,*.email setlocal tw=72 spell
noremap Q gq

source ~/.vim/tabline.vim
